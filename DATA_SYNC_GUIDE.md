# 数据同步指南

## 功能概述

DeepReview 应用现在支持在不同设备之间同步数据，您可以轻松地将电脑上的学习数据传输到手机，或者在多台设备间共享数据。

## 数据内容

导出的数据包含：
- ✅ 所有单词数据（标题、内容、AI回复）
- ✅ 所有错题数据（科目、标题、内容、AI回复）
- ✅ API Key 配置

## 使用步骤

### 方式一：电脑 → 手机

#### 步骤 1：在电脑上导出数据

1. 打开 Windows 应用
2. 在主页点击 **"数据管理"**
3. 点击 **"导出数据"**
4. 系统会弹出分享选项，选择您喜欢的方式（如保存到文件）
5. 一个 JSON 格式的备份文件会被创建（文件名类似：`deepreview_backup_1234567890.json`）

#### 步骤 2：传输文件到手机

您可以通过以下任一方式传输文件：

- **微信**：发送文件给自己或文件传输助手
- **QQ**：发送给"我的电脑"或"我的文件"
- **邮箱**：发送邮件给自己
- **云盘**：上传到百度网盘、OneDrive、iCloud 等
- **USB 数据线**：直接复制到手机存储
- **局域网**：使用文件共享工具

#### 步骤 3：在手机上导入数据

1. 打开 Android/iOS 应用
2. 在主页点击 **"数据管理"**
3. 点击 **"导入数据"**
4. 从文件管理器选择刚才传输的 JSON 文件
5. 系统会自动导入所有数据
6. 导入成功后，您的所有学习记录都会出现在手机上

### 方式二：手机 → 电脑

步骤相同，只是方向相反：

1. 在手机上导出数据
2. 通过任意方式传输到电脑
3. 在电脑上导入数据

### 方式三：设备间同步

如果您想在多台设备上保持数据同步：

1. 从设备 A 导出数据
2. 传输到设备 B 并导入
3. 定期重复此过程以保持同步

💡 **建议**：建立定期备份习惯（如每周一次），防止数据丢失。

## 注意事项

### ⚠️ 重要提醒

1. **导入会覆盖现有数据**
   - 导入操作会完全替换当前设备上的所有数据
   - 如果当前设备也有重要数据，请先导出备份
   
2. **文件格式要求**
   - 只能导入由 DeepReview 导出的 JSON 文件
   - 不要手动修改 JSON 文件内容，否则可能导致导入失败

3. **API Key 安全**
   - 导出的文件包含您的 DeepSeek API Key
   - 请妥善保管备份文件，不要分享给他人
   - 如果不想同步 API Key，可以在导入后重新配置

### 📱 平台差异

- **Windows/Android/iOS**：完全支持导入导出功能
- **Web 版本**：由于浏览器限制，功能可能有所不同

## 数据统计

在数据管理页面，您可以看到：

- 📚 单词总数
- ❌ 错题总数
- 📊 各科目错题分布

这有助于您了解学习进度和数据规模。

## 故障排除

### 导出失败

**问题**：点击导出后没有反应
**解决方案**：
- 检查应用是否有存储权限
- 确保设备有足够的存储空间
- 重启应用后重试

### 导入失败

**问题**：导入时提示"数据格式不正确"
**解决方案**：
- 确认选择的是 DeepReview 导出的 JSON 文件
- 确认文件没有被修改或损坏
- 尝试重新导出文件

**问题**：导入后数据丢失
**解决方案**：
- 导入会覆盖原有数据，这是正常行为
- 如果需要合并数据，请在导入前先导出当前数据

### 文件传输问题

**问题**：无法找到导出的文件
**解决方案**：
- Windows：文件保存在临时目录，选择"分享"选项将其保存到指定位置
- 手机：文件通常在"下载"或"文档"文件夹中

## 最佳实践

### 1. 定期备份

建议每周导出一次数据作为备份：

```
每周日晚上：
1. 打开应用
2. 导出数据
3. 保存到云盘或电脑
```

### 2. 多设备同步策略

如果您使用多台设备学习：

- **主设备**：主要用于添加和编辑数据（如电脑）
- **辅助设备**：主要用于查看和复习（如手机）
- **同步频率**：每天或每周从主设备同步到辅助设备

### 3. 数据安全

- 不要将备份文件上传到公共网络
- 定期更换 API Key 并更新备份
- 保留多个历史备份（如最近3次）

## 技术细节

### 文件格式

导出的 JSON 文件结构：

```json
{
  "version": "1.0",
  "exportTime": "2025-10-28T12:00:00.000Z",
  "apiKey": "your_api_key_here",
  "words": [
    {
      "id": "...",
      "title": "abandon",
      "content": "...",
      "aiResponse": "...",
      "createdAt": "...",
      "updatedAt": "..."
    }
  ],
  "errors": [
    {
      "id": "...",
      "subject": "高等数学",
      "title": "...",
      "content": "...",
      "aiResponse": "...",
      "createdAt": "...",
      "updatedAt": "..."
    }
  ]
}
```

### 数据存储

- **Windows/Linux/macOS**：使用 SharedPreferences (基于平台原生存储)
- **Android**：使用 SharedPreferences (XML 文件)
- **iOS**：使用 UserDefaults (plist 文件)

## 更新日志

### v1.0 (2025-10-28)
- ✅ 添加数据导出功能
- ✅ 添加数据导入功能
- ✅ 添加数据统计显示
- ✅ 支持跨平台数据同步

## 常见问题

**Q: 导入数据会合并还是覆盖？**
A: 会完全覆盖。如果需要保留原数据，请先导出备份。

**Q: 可以选择性导入（只导入单词或只导入错题）吗？**
A: 当前版本不支持，会导入整个备份文件的所有内容。

**Q: 导出的文件可以手动编辑吗？**
A: 理论上可以，但不建议。如果 JSON 格式不正确会导致导入失败。

**Q: 多久备份一次比较合适？**
A: 建议每周备份一次，或在添加大量数据后立即备份。

**Q: 文件大小会很大吗？**
A: 取决于数据量。一般情况下：
- 100个单词 + 100道错题 ≈ 50-200 KB
- 包含大量 AI 回复内容会更大

## 支持

如有问题或建议，请通过以下方式联系：

- 在应用内提交反馈
- 发送邮件到：[您的邮箱]
- 访问项目主页：[项目链接]

---

**提示**：本功能完全在本地运行，不会上传任何数据到服务器，您的学习数据完全由您自己掌控。


